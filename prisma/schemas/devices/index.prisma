model Device {
  id        String   @id @default(uuid())
  createdAt DateTime @default(now())

  customerId String
  customer   User       @relation("customer", fields: [customerId], references: [id], onDelete: Cascade)
  plantId    String
  plant      Plant      @relation("plant", fields: [plantId], references: [id], onDelete: Cascade)
  sn         String     @unique
  deviceType DeviceType

  @@schema("public")
}

enum DeviceType {
  BATTERY
  INVERTER

  @@schema("public")
}

model Firmware {
  id          Int        @id @default(autoincrement())
  name        String
  version     String     @unique
  deviceType  DeviceType
  url         String
  releaseDate DateTime   @default(now())
  userId      String
  user        User       @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@schema("user")
}
